{"map":{"version":3,"sources":["static/js/main.82991e58.chunk.js"],"names":["this","push","45","module","exports","__webpack_require__","50","81","84","89","__webpack_exports__","r","react","react_default","n","react_dom","react_dom_default","react_router_dom","react_router","v1","routes_CreateRoom","props","a","createElement","onClick","id","Object","history","concat","lib","lib_default","routes_Room","userVideo","guestVideo","peerRef","socketRef","otherUser","userStream","createPeer","userID","peer","RTCPeerConnection","iceServers","urls","credential","username","onicecandidate","handleICECandidateEvent","ontrack","handleTrackEvent","onnegotiationneeded","current","createOffer","then","offer","setLocalDescription","payload","target","caller","sdp","localDescription","emit","catch","e","console","log","handleNegotiationNeededEvent","recieveCall","incoming","desc","RTCSessionDescription","setRemoteDescription","getTracks","forEach","track","addTrack","createAnswer","answer","answerCall","message","candidate","handleNewICECandidateMsg","RTCIceCandidate","addIceCandidate","srcObject","streams","navigator","mediaDevices","getUserMedia","audio","video","stream","connect","match","params","roomID","on","callUser","autoPlay","ref","src_App","className","path","exact","component","Boolean","window","location","hostname","render","StrictMode","document","getElementById","serviceWorker","ready","registration","unregister","error"],"mappings":"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"},"code":"(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{45:function(e,n,t){e.exports=t(89)},50:function(e,n,t){},81:function(e,n){},84:function(e,n,t){},89:function(e,n,t){\"use strict\";t.r(n);var r=t(0),c=t.n(r),o=t(41),a=t.n(o),u=(t(50),t(43)),i=t(1),s=t(91),l=function(e){return c.a.createElement(\"button\",{onClick:function(){var n=Object(s.a)();e.history.push(\"/room/\".concat(n))}},\"Create Room\")},f=t(42),d=t.n(f),m=function(e){var n=Object(r.useRef)(),t=Object(r.useRef)(),o=Object(r.useRef)(),a=Object(r.useRef)(),u=Object(r.useRef)(),i=Object(r.useRef)();function s(e){var n=new RTCPeerConnection({iceServers:[{urls:\"stun:stun.stunprotocol.org\"},{urls:\"turn:numb.viagenie.ca\",credential:\"muazkh\",username:\"webrtc@live.com\"}]});return n.onicecandidate=m,n.ontrack=p,n.onnegotiationneeded=function(){return function(e){o.current.createOffer().then((function(e){return o.current.setLocalDescription(e)})).then((function(){var n={target:e,caller:a.current.id,sdp:o.current.localDescription};a.current.emit(\"offer\",n)})).catch((function(e){return console.log(e)}))}(e)},n}function l(e){o.current=s();var n=new RTCSessionDescription(e.sdp);o.current.setRemoteDescription(n).then((function(){i.current.getTracks().forEach((function(e){return o.current.addTrack(e,i.current)}))})).then((function(){return o.current.createAnswer()})).then((function(e){return o.current.setLocalDescription(e)})).then((function(){var n={target:e.caller,caller:a.current.id,sdp:o.current.localDescription};a.current.emit(\"answer\",n)}))}function f(e){var n=new RTCSessionDescription(e.sdp);o.current.setRemoteDescription(n).catch((function(e){return console.log(e)}))}function m(e){if(e.candidate){var n={target:u.current,candidate:e.candidate};a.current.emit(\"ice-candidate\",n)}}function h(e){var n=new RTCIceCandidate(e);o.current.addIceCandidate(n).catch((function(e){return console.log(e)}))}function p(e){t.current.srcObject=e.streams[0]}return Object(r.useEffect)((function(){navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then((function(t){n.current.srcObject=t,i.current=t,a.current=d.a.connect(\"/\"),a.current.emit(\"join room\",e.match.params.roomID),a.current.on(\"other user\",(function(e){!function(e){o.current=s(e),i.current.getTracks().forEach((function(e){return o.current.addTrack(e,i.current)}))}(e),u.current=e})),a.current.on(\"user joined\",(function(e){u.current=e})),a.current.on(\"offer\",l),a.current.on(\"answer\",f),a.current.on(\"ice-candidate\",h)}))}),[]),c.a.createElement(\"div\",null,c.a.createElement(\"video\",{autoPlay:!0,ref:n}),c.a.createElement(\"video\",{autoPlay:!0,ref:t}))};t(84);var h=function(){return c.a.createElement(\"div\",{className:\"App\"},c.a.createElement(u.a,null,c.a.createElement(i.c,null,c.a.createElement(i.a,{path:\"/\",exact:!0,component:l}),c.a.createElement(i.a,{path:\"/room/:roomID\",component:m}))))};Boolean(\"localhost\"===window.location.hostname||\"[::1]\"===window.location.hostname||window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(h,null)),document.getElementById(\"root\")),\"serviceWorker\"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[45,1,2]]]);","extractedComments":[]}